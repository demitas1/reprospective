# Reprospective 環境変数設定ファイル
# このファイルを .env にコピーして使用してください
# cp env.example .env

# ================================
# データベース設定
# ================================

# PostgreSQL接続設定（アプリケーション用）
# 注意: 実際のポート番号はdocker-compose.ymlでマッピングされた6000を使用します
DB_HOST=localhost
DB_PORT=6000
DB_NAME=reprospective
DB_USER=reprospective_user
DB_PASSWORD=change_this_password

# PostgreSQL接続URL（オプション: 完全なURLで指定する場合）
# DATABASE_URLが設定されている場合、個別のDB_*設定より優先されます
DATABASE_URL=postgresql://reprospective_user:change_this_password@localhost:6000/reprospective

# PostgreSQL Docker設定（docker-compose.yml用）
# コンテナ内部ではポート5432で動作し、ホストからは6000でアクセス
POSTGRES_DB=reprospective
POSTGRES_USER=reprospective_user
POSTGRES_PASSWORD=change_this_password
POSTGRES_PORT=5432

# SQLiteデータベースパス（host-agent用）
# host-agent/からの相対パスまたは絶対パスで指定
SQLITE_DESKTOP_PATH=data/desktop_activity.db
SQLITE_FILE_EVENTS_PATH=data/file_changes.db

# ================================
# API認証設定
# ================================

# GitHub API
GITHUB_API_TOKEN=ghp_your_github_personal_access_token_here
GITHUB_MONITORED_REPOS=user/repo1,user/repo2

# Bluesky API
BLUESKY_HANDLE=your.handle.bsky.social
BLUESKY_APP_PASSWORD=your-app-password-here

# その他のSNS API（必要に応じて追加）
# TWITTER_API_KEY=
# TWITTER_API_SECRET=

# ================================
# AI分析サービス設定
# ================================

# OpenAI API（GPT使用の場合）
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-4

# Anthropic API（Claude使用の場合）
# ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key_here
# ANTHROPIC_MODEL=claude-3-opus-20240229

# ローカルLLM設定（Ollama等を使用する場合）
# LOCAL_LLM_ENDPOINT=http://localhost:11434
# LOCAL_LLM_MODEL=llama2

# ================================
# ホストエージェント設定
# ================================

# ファイルシステム監視対象ディレクトリ（カンマ区切り）
MONITORED_DIRECTORIES=/home/user/projects,/home/user/Documents

# 除外パターン（正規表現、カンマ区切り）
EXCLUDE_PATTERNS=.*\.tmp$,.*\.cache$,.*node_modules.*,.*\.git.*,.*__pycache__.*

# デスクトップアクティビティ監視間隔（秒）
ACTIVITY_MONITOR_INTERVAL=30

# ================================
# サービス設定
# ================================

# APIゲートウェイ
API_GATEWAY_PORT=8000
API_GATEWAY_HOST=0.0.0.0

# Webフロントエンド
WEB_UI_PORT=3000

# AI分析サービス
AI_ANALYZER_PORT=8001

# コレクターサービス
COLLECTOR_SERVICE_PORT=8002

# ================================
# ログ設定
# ================================
LOG_LEVEL=INFO
LOG_FILE_PATH=/var/log/reprospective/app.log

# ================================
# セキュリティ設定
# ================================

# JWT秘密鍵（ランダムな文字列を生成してください）
JWT_SECRET_KEY=your-very-secret-jwt-key-change-this

# セッション秘密鍵
SESSION_SECRET_KEY=your-very-secret-session-key-change-this

# ================================
# その他の設定
# ================================

# タイムゾーン
TZ=Asia/Tokyo

# デバッグモード（本番環境ではfalseに設定）
# trueの場合、以下の機能が有効化されます:
# - フロントエンドエラーロギングAPI（/api/v1/debug/log-errors）
# - ./logs/frontend-errors.log にエラーが記録されます
DEBUG=true

# データ保存ディレクトリ
DATA_DIR=/var/lib/reprospective

# 日誌ファイル保存ディレクトリ
JOURNAL_DIR=/home/user/reprospective_journals
